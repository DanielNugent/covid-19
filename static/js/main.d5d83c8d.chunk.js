(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{100:function(e,t,a){e.exports=a(139)},105:function(e,t,a){},106:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},107:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),s=(a(105),a(106),a(107),a(108),a(109),a(43)),c=a(36),l=a(37),m=a(42),u=a(44),d=a(41),p=a(149),h=a(146),g=a(147),f=a(148),v=a(15),E=a(150),S=a(10),b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:[],dates:[],max:1,dateIndex:0,date:"3/24/20"},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(d.a)(this.props.datalink).then((function(t){t=e.mergeRegions(t);for(var a=Object.keys(t[0]),n=1;n<=4;n++)a.shift();a.pop(),e.setState({data:t,dateIndex:0,date:a[0],dates:Object(s.a)(a)})}))}},{key:"componentWillUpdate",value:function(e,t){this.colorScale=Object(p.a)().domain([this.props.min,t.max]).range(["#eee","#f00"])}},{key:"mergeRegions",value:function(e){var t,a=this,n={};return e.map((function(e){e.Name=a.nameFix(e["Country/Region"]),void 0===t&&(t=Object.keys(e).filter((function(e){return"Province/State"!==e&&"Name"!==e&&"Lat"!==e&&"Long"!==e}))),void 0===n[e.Name]?n[e.Name]=e:t.map((function(t){n[e.Name][t]=parseInt(n[e.Name][t]),n[e.Name][t]+=parseInt(e[t])}))})),Object.values(n)}},{key:"nameFix",value:function(e){var t={US:"United States",Greenland:"Denmark","Congo (Brazzaville)":"Dem. Rep. Congo","Congo (Kinshasa)":"Dem. Rep. Congo","Korea, South":"South Korea"};return void 0!==t[e]?t[e]:e}},{key:"changeDate",value:function(e){this.setState({dateIndex:e,date:this.state.dates[e]})}},{key:"perCapita",value:function(e,t){return 1e5/e.properties.POP_EST*t}},{key:"datalessCountryColor",value:function(e){return"#ddd"}},{key:"render",value:function(){var e=this,t=this.state.data;return 0===this.state.dates.length?r.a.createElement(n.Fragment,null):r.a.createElement(n.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("h1",null,this.props.title),r.a.createElement(g.a,{className:"pl-3 pr-3"},r.a.createElement(f.a,{md:8},r.a.createElement(E.b,null,"Date",r.a.createElement(E.c,{min:0,max:this.state.dates.length-1,stepSize:1,labelStepSize:10,intent:this.props.intent,onChange:function(t){return e.changeDate(t)},labelRenderer:function(t){return e.state.dates[t]},showTrackFill:!0,value:this.state.dateIndex,vertical:!1}))),r.a.createElement(f.a,{md:1}),r.a.createElement(f.a,{md:3},r.a.createElement(E.b,null,"Dedramatizer",r.a.createElement(E.c,{min:1,max:400,stepSize:50,labelStepSize:50,intent:S.a.SUCCESS,onChange:function(t){return e.setState({max:t})},labelRenderer:function(e){return parseInt(e/400*11)},showTrackFill:!1,value:this.state.max,vertical:!1}))))),r.a.createElement(h.a,{fluid:!0,style:{marginTop:"calc((-100% / 12)",marginBottom:"calc((-100% / 12)"}},r.a.createElement(v.ComposableMap,{projectionConfig:{rotate:[-10,0,0],scale:147}},r.a.createElement(v.Sphere,{stroke:"#E4E5E6",strokeWidth:1.4}),r.a.createElement(v.Graticule,{stroke:"#E4E5E6",strokeWidth:.5}),t.length>0&&r.a.createElement(v.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json"},(function(a){return a.geographies.map((function(a){var n=t.find((function(t){return e.nameFix(t.Name)===a.properties.NAME||e.nameFix(t.Name)===a.properties.NAME_LONG}));return r.a.createElement(v.Geography,{key:a.rsmKey,geography:a,fill:n?e.colorScale(e.perCapita(a,n[e.state.date])):e.datalessCountryColor(a)})}))})))))}}]),a}(r.a.Component);var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h.a,{className:"mt-3"},r.a.createElement(E.a,{intent:"primary"},"I threw this page together for a friend, and you probably shouldn't rely on it for, well, anything at all. The data used is fetched directly from the ",r.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19/"},"2019 Novel Coronavirus COVID-19 (2019-nCoV) Data Repository by Johns Hopkins CSSE")," GitHub repository. Feel free to improve this page by ",r.a.createElement("a",{href:"https://github.com/willosof/covid-19"},"sending me a pull request"),"!")),r.a.createElement(b,{datalink:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv",title:"COVID-19: Confirmed per capita",min:0,max:50,intent:"warning"}),r.a.createElement(b,{datalink:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv",title:"COVID-19: Deaths per capita",min:0,max:10,intent:"danger"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.d5d83c8d.chunk.js.map